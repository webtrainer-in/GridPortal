<div class="sidebar" [class.collapsed]="!isOpen">
  <div class="sidebar-header">
    <div *ngIf="isOpen" class="expanded-header">
      <p-button 
        icon="pi pi-bars"
        severity="secondary"
        [text]="true"
        (onClick)="onToggleSidebar()"
        class="sidebar-toggle"
        [title]="'Collapse Menu'"
      ></p-button>
      <h3 class="sidebar-title">
        <i class="pi pi-th-large"></i>
        <span>Menu</span>
      </h3>
    </div>
    <div *ngIf="!isOpen" class="collapsed-header" (click)="onToggleSidebar()" title="Expand Menu">
      <i class="pi pi-bars sidebar-icon"></i>
    </div>
  </div>
  
  <div class="sidebar-content">
    <nav class="sidebar-nav">
      <app-recursive-sidebar-menu 
        [items]="menuItems" 
        [level]="0"
        [isOpen]="isOpen"
        [expandedItems]="expandedMenuItems"
        [selectedMenuItem]="selectedMenuItem"
        (itemSelect)="onMenuItemSelect($event.menuId, $event.event)"
        (toggleExpand)="onToggleMenuExpand($event)"
        (selectionChange)="onMenuSelectionChange($event.menuId, $event.isOpen)">
      </app-recursive-sidebar-menu>
    </nav>
  </div>
</div>