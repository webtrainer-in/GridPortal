<div class="app-layout">
  <app-header (sidebarToggle)="toggleSidebar()"></app-header>
  <app-top-menu></app-top-menu>
  
  <div class="layout-body">
    <app-sidebar 
      [isOpen]="isSidebarOpen" 
      (toggleSidebar)="onSidebarToggle()"
      (secondaryPanelToggle)="onSecondaryPanelToggle($event)"
    ></app-sidebar>
    
    <app-secondary-panel
      [isOpen]="isSecondaryPanelOpen"
      [selectedMenuItem]="selectedMenuItem"
    ></app-secondary-panel>
    
    <div class="main-content" 
         [class.sidebar-closed]="!isSidebarOpen"
         [class.secondary-panel-open]="isSecondaryPanelOpen">
      <div class="content-area">
        <router-outlet></router-outlet>
      </div>
      <app-footer></app-footer>
    </div>
  </div>
</div>